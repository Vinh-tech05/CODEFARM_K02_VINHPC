<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Task11 - Phạm Công Vinh</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        font-family: "Segoe UI", Tahoma, sans-serif;
        background-size: cover;
        background-attachment: fixed;
        background-position: center;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      body.light-mode {
        background-color: #f5f5f5;
        color: #000000;
      }

      body.dark-mode {
        background-color: #2c2c2c;
        color: #ffffff;
      }

      .mist {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle,
          rgba(255, 255, 255, 0.2),
          transparent 70%
        );
        pointer-events: none;
        z-index: 1;
        animation: mistMove 40s linear infinite;
      }

      @keyframes mistMove {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(50px, 20px);
        }
      }

      .content-wrapper {
        position: relative;
        z-index: 2;
        max-width: 900px;
        margin: auto;
        padding: 30px 15px;
      }

      h1 {
        font-size: 2.5rem;
      }

      body.light-mode h1 {
        text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
      }

      body.dark-mode h1 {
        text-shadow: 2px 2px 5px rgba(255, 255, 255, 0.3);
      }

      .btn-glow {
        border-radius: 30px;
        padding: 10px 25px;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .btn-glow:hover {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        transform: scale(1.05);
      }

      /* Bài 3 */
      .containerBT3 {
        border-radius: 12px;
      }

      #wordCount,
      #charCount {
        font-size: 1.05rem;
        font-weight: 500;
      }

      #charCount.warning {
        color: #e74c3c !important;
      }
      table {
        width: 100%;
      }

      table th {
        background-color: #198754;
        color: #fff;
      }
    </style>
  </head>
  <body class="light-mode">
    <div class="mist"></div>

    <div class="content-wrapper text-center">
      <!-- Bài 1 -->
      <button class="btn btn-info btn-glow mb-3" onclick="toggleMode()">
        Chuyển chế độ
      </button>

      <h1 class="mb-5">Task11 - Phạm Công Vinh</h1>

      <!-- Bài 2 -->
      <div class="card shadow p-3 mb-5">
        <h5 class="mb-3 text-success text-start">BT2 - Danh sách sinh viên</h5>
        <div class="table-responsive">
          <table
            id="dataTable"
            class="table table-bordered table-hover"
          ></table>
        </div>
      </div>

      <!-- Bài 3 -->
      <div class="containerBT3 card shadow p-4 mb-4">
        <h5 class="mb-3 text-primary text-start">BT3 - Nhập văn bản</h5>
        <textarea
          id="textInput"
          maxlength="200"
          class="form-control"
          placeholder="Nhập đoạn văn bản (tối đa 200 ký tự)..."
        ></textarea>
        <div class="d-flex justify-content-between mt-3">
          <div id="wordCount" class="text-success">Số từ: 0</div>
          <div id="charCount" class="text-primary">Số ký tự còn lại: 200</div>
        </div>
      </div>
    </div>
    <!*--Bài 1 -->
    <script>
      function toggleMode() {
        document.body.classList.toggle("dark-mode");
        document.body.classList.toggle("light-mode");

        if (document.body.classList.contains("dark-mode")) {
          localStorage.setItem("theme", "dark");
        } else {
          localStorage.setItem("theme", "light");
        }
      }

      document.addEventListener("DOMContentLoaded", () => {
        const savedTheme = localStorage.getItem("theme") || "light";
        document.body.classList.remove("light-mode", "dark-mode");
        document.body.classList.add(savedTheme + "-mode");
      });
    </script>
    <!*-- Bài 2  -->
    <script>
      const students = [
        { id: 1, name: "Nguyễn Văn A", age: 20, city: "Hà Nội" },
        { id: 2, name: "Trần Thị B", age: 19, city: "TP.HCM" },
        { id: 3, name: "Lê Văn C", age: 21, city: "Đà Nẵng" },
      ];

      const table = document.getElementById("dataTable");
      //   console.log(table);

      let tableContent = `
              <tr>
                <th>ID</th>
                <th>Tên</th>
                <th>Tuổi</th>
                <th>Thành phố</th>
              </tr>
            `;

      students.forEach((student) => {
        // console.log(student);

        tableContent += `
                <tr>
                  <td>${student.id}</td>
                  <td>${student.name}</td>
                  <td>${student.age}</td>
                  <td>${student.city}</td>
                </tr>
              `;
      });
      //   console.log(tableContent);

      table.innerHTML = tableContent;
      // Thêm CSS qua JavaScript
      table.style.borderCollapse = "collapse";
      table.style.margin = "20px";
      table.querySelectorAll("th, td").forEach((cell) => {
        cell.style.border = "1px solid black";
        cell.style.padding = "10px";
        cell.style.textAlign = "center";
      });
    </script>
    <!*-- Bài 3 -->
    <script>
      const textInput = document.getElementById("textInput");
      const wordCount = document.getElementById("wordCount");
      const charCount = document.getElementById("charCount");
      const maxLength = textInput.maxLength;

      textInput.addEventListener("input", function () {
        let content = textInput.value.trim();
        // console.log(content);

        // Đếm từ này
        let word = content === "" ? 0 : content.split(/\s+/).length;
        // console.log(word);
        wordCount.textContent = "Số từ:" + word;
        // console.log(wordCount);

        //Đếm kí tự còn lại
        let userChars = content.length;
        // console.log(userChars);
        let wordRemaining = maxLength - userChars;
        // console.log(wordRemaining);
        charCount.textContent = "Số kí tự còn lại:" + wordRemaining;

        if (wordRemaining <= 20) {
          charCount.classList.add("warning");
        } else {
          charCount.classList.remove("warning");
        }
      });
    </script>
  </body>
</html>
